<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
	    <meta charset="UTF-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <title>Add todo</title>
	</head>
	
	<body>
		<header>
			<h3 th:inline="text">User: [[${#httpServletRequest.remoteUser}]]</h1>
			
			<form th:action="@{/logout}" method="post">
			 	<input type="submit" value="Logout"/>
			</form>
		</header>
		
		<form th:action="@{/todolist}" method="get">
			 <input type="submit" value="Get Back"/>
		</form>
		
	    <h1>Add New Task</h1>
		
    	    <form 
	    	    th:action="@{addtodo}"
	    	    th:object="${todo}"
	    	    modelAttribute="todo"
	    	    action="@{save}"
	    	    method="post">
	    	    
	    	   	<label for="title">Task</label>
				<input type="text" id="title" th:field="*{title}" />

				<label for="stateList">State</label>
			 	<select id="stateList" th:field="*{state}" class="form-control">
       				<option th:each="state: ${states}"
					   th:value="${state.id}"
					   th:text="${state.name}"></option>
    			</select>
				
			    <input type="submit" value="Save" />
			    
			</form>
			
	</body>
	
</html>